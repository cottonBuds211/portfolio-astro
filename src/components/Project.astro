---
import Modal from "./Modal.astro";

const { date, title, description, link, img, vid } = Astro.props;
---

<div
  class="flex flex-col lg:flex-row gap-4 justify-between items-center pl-8 transition-all ease-in duration-200 rounded-md cursor-default"
>
  <div class="flex flex-1 flex-col gap-2">
    <h4 class="text-sm">{date}</h4>
    <h3 class="text-2xl">{title}</h3>
    <p class="text-secondary leading-6">{description}</p>
    <a class="flex gap-2 items-center cursor-pointer text-secondary" href={link} target="_blank"
      >github.com
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="1"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-external-link-icon lucide-external-link"
        ><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path
          d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
        ></path></svg
      ></a
    >
  </div>

  <Modal>
    <div
      slot="trigger"
      class="relative group transition-all duration-300 hover: cursor-pointer border border-black/10 rounded-lg"
    >
      <img src={img.src} class="object-cover rounded-lg" />
      <span
        class="absolute inset-0 flex justify-center items-center text-white bg-black/40 opacity-0 group-hover:opacity-100 transition-all duration-200 ease-in"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-eye-icon lucide-eye"
          ><path
            d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"
          ></path><circle cx="12" cy="12" r="3"></circle></svg
        ></span
      >
    </div>
    <main slot="main" class="w-full h-full p-3 lg:p-10 lg:pt-0 rounded-2xl">
      <p class="text-3xl text-text-primary">{title}</p>
      <p class="text-text-secondary">{description}</p>
      <hr class="my-2 text-black/10" />
      <!-- <img
        width="100%"
        height="100%"
        src={img.src}
        alt="Project Image"
        class="rounded-lg"
      /> -->
      <video autoplay muted loop playsinline width="100%">
        <source src={vid} type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </main>
  </Modal>
</div>
